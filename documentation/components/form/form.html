<!DOCTYPE html>
<html lang="en" xmlns:bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <i18n>
        <translation>
            <en>
                This is an extension of the form element. This form can be accessed with the bind: model attribute
                a property can be bound. Each input element of the form then receives the values by name
                of the input element. This form has the addValidator method for an asynchronous validator
                to register. Forms can contain other forms. More on this on the Advanced page.
            </en>
            <de>
                Dies ist eine Erweiterung des Elementes form. Dieses Formular kann mit dem bind:model Attribute auf
                eine Property gebunden werden. Jedes Input Element des Formulars empfängt dann die Werte über den Namen
                des Input Elementes. Dieses Formular besitzt die Methode addValidator, um einen Asynchronen Validator
                zu registrieren. Formulare können weitere Formulare enthalten. Dazu mehr auf der Seite Advanced.
            </de>
        </translation>
        <translation>
            <en>Element</en>
            <de>Element</de>
        </translation>
        <translation>
            <en>Attribute</en>
            <de>Attribut</de>
        </translation>
        <translation>
            <en>Description</en>
            <de>Beschreibung</de>
        </translation>
        <translation>
            <en>The model of the form</en>
            <de>Das Modell des Formulars</de>
        </translation>
        <translation>
            <en>First Name</en>
            <de>Vorname</de>
        </translation>
        <translation>
            <en>The rest of the HTML file is not displayed</en>
            <de>Der rest der HTML Datei wird nicht angezeigt</de>
        </translation>
        <translation>
            <en>Nested Form</en>
            <de>Verschachteltes Formular</de>
        </translation>
        <translation>
            <en>Forms can be nested with the name Attribute of the given model and its property</en>
            <de>Formulare können mit dem name Attribut des angegebenen model und seiner Eigenschaft verschachtelt werden</de>
        </translation>
        <translation>
            <en>The object containing the data for the form</en>
            <de>Das Objekt, das die Daten enthält</de>
        </translation>
        <translation>
            <en>When the form is nested it connects to the property of the model</en>
            <de>Wenn das Formular verschachtelt ist, dann steht der name für die Property</de>
        </translation>
        <translation>
            <en>First Name</en>
            <de>Vorname</de>
        </translation>
        <translation>
            <en>Last Name</en>
            <de>Nachname</de>
        </translation>
        <translation>
            <en>Street</en>
            <de>Straße</de>
        </translation>
        <translation>
            <en>State</en>
            <de>Staat</de>
        </translation>
        <translation>
            <en>Form Validation</en>
            <de>Formular Validation</de>
        </translation>
        <translation>
            <en>
                In this example you can see how Form validation is done. Form Validation is always async, because
                in most cases it is a Server request.
            </en>
            <de>
                In diesem Beispiel kann man sehen wie Formular Validierung gemacht wird. Formular Validierung ist
                immer Asynchron, weil fast alle Fälle es ein Server Request ist.
            </de>
        </translation>
        <translation>
            <en>Points to the Object model</en>
            <de>Zeigt auf das Objekt Modell</de>
        </translation>
        <translation>
            <en>Makes the form in the View available</en>
            <de>Macht das Formular in der View verfügbar</de>
        </translation>
        <translation>
            <en>First Name</en>
            <de>Vorname</de>
        </translation>
        <translation>
            <en>Last Name</en>
            <de>Nachname</de>
        </translation>
        <translation>
            <en>Name already exists</en>
            <de>Name existiert bereits</de>
        </translation>
        <translation>
            <en>The rest of the HTML file is not displayed</en>
            <de>Der rest der HTML Datei wird nicht angezeigt</de>
        </translation>
    </i18n>
</head>
<body>
<template>
    <div style="margin: auto; flex-wrap: wrap; display: flex">

         <div style="flex: 1; padding: 20px; min-width : 400px">

            <h2 style="margin-left: 0;">Dom Form</h2>
            <hr class="line">

            <p i18n>
                This is an extension of the form element. This form can be accessed with the bind: model attribute
                a property can be bound. Each input element of the form then receives the values by name
                of the input element. This form has the addValidator method for an asynchronous validator
                to register. Forms can contain other forms. More on this on the Advanced page.
            </p>

            <h3>DOM-API</h3>
            <table style="width: 100%; font-size: small">
                <thead>
                <tr>
                    <td><strong i18n>Element</strong></td>
                    <td><strong i18n>Attribute</strong></td>
                    <td><strong i18n>Description</strong></td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>form</td>
                    <td>model</td>
                    <td i18n>The model of the form</td>
                </tr>
                </tbody>
            </table>

            <div style="margin: 20px;">
                <form is="dom-form" bind:model="person" bind:variable="simpleForm">
                    <mat-input-container bind:placeholder="i18n('First Name')">
                        <input is="dom-input" type="text" name="firstName"/>
                    </mat-input-container>
                    <button type="button" bind:style="display : simpleForm.dirty ? 'inline' : 'none'"
                            bind:onclick="simpleForm.reset()">Reset
                    </button>
                </form>
            </div>


        </div>

         <div style="flex: 1; padding: 20px; min-width : 400px">

            <h2>Source Code</h2>
            <hr class="line">
            <h3>HTML5</h3>
            <p i18n>The rest of the HTML file is not displayed</p>
            <div style="margin-top: 20px;">
                <div>
                    <code is="dom-code" lang="html5">
                        <template>
                            <iframe>
                                <form is="dom-form" bind:model="person" bind:variable="form">
                                    <mat-input-container placeholder="First Name">
                                        <input is="dom-input" type="text" name="firstName"/>
                                    </mat-input-container>
                                    <button type="button" bind:style="display : form.dirty ? 'inline' : 'none'"
                                            bind:onclick="form.reset()">Reset
                                    </button>
                                </form>
                            </iframe>
                        </template>
                    </code>
                </div>
            </div>
            <h3>Javascript</h3>
            <div>
                <div>
                    <code is="dom-code" lang="javascript">
                        <template>
                            <script>
                                import {customViews} from "../../library/simplicity/simplicity.js";
                                import {loader} from "../../library/simplicity/processors/loader-processor.js";
                                import DomForm from "../../library/simplicity/directives/dom-form.js";
                                import DomInput from "../../library/simplicity/directives/dom-input.js";
                                import MatInputContainer
                                    from "../../library/simplicity/components/form/container/mat-input-container.js";

                                class Form extends HTMLElement {

                                    person = {
                                        firstName: "Max"
                                    }

                                    static get components() {
                                        return [DomForm, DomInput, MatInputContainer]
                                    }

                                    static get template() {
                                        return loader("documentation/form/form.html")
                                    }

                                }

                                export default customViews.define({
                                    name: "form-form",
                                    class: Form
                                })
                            </script>
                        </template>
                    </code>
                </div>
            </div>
        </div>
    </div>

    <div style="flex-wrap: wrap; display: flex">

         <div style="flex: 1; padding: 20px; min-width : 400px">

            <h2 style="margin-left: 0;" i18n="title">Nested Form</h2>
            <hr class="line">

            <p i18n>
                Forms can be nested with the name Attribute of the given model and its property
            </p>

            <h3>DOM-API</h3>
            <table style="width: 100%; font-size: small">
                <thead>
                <tr>
                    <td><strong i18n>Element</strong></td>
                    <td><strong i18n>Attribute</strong></td>
                    <td><strong i18n>Description</strong></td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>form</td>
                    <td>model</td>
                    <td i18n>The object containing the data for the form</td>
                </tr>
                <tr>
                    <td>form</td>
                    <td>name</td>
                    <td i18n>When the form is nested it connects to the property of the model</td>
                </tr>
                </tbody>
            </table>

            <div style="margin: 20px;">
                <form is="dom-form" bind:model="person">
                    <mat-input-container bind:placeholder="i18n('First Name')">
                        <input type="text" is="dom-input" name="firstName">
                    </mat-input-container>
                    <mat-input-container bind:placeholder="i18n('Last Name')">
                        <input type="text" is="dom-input" name="lastName">
                    </mat-input-container>

                    <form is="dom-form" name="address">
                        <mat-input-container bind:placeholder="i18n('Street')">
                            <input type="text" is="dom-input" name="street">
                        </mat-input-container>
                        <mat-input-container bind:placeholder="i18n('State')">
                            <input type="text" is="dom-input" name="state">
                        </mat-input-container>
                    </form>
                </form>
                <br/>
                <div>{{i18n('First Name')}}: {{person.firstName}}</div>
                <div>{{i18n('Last Name')}}: {{person.lastName}}</div>
                <div>{{i18n('Street')}}: {{person.address.street}}</div>
                <div>{{i18n('State')}}: {{person.address.state}}</div>
            </div>


        </div>

         <div style="flex: 1; padding: 20px; min-width : 400px">

            <h2>Source Code</h2>
            <hr class="line">
            <h3>HTML5</h3>
            <p i18n>The rest of the HTML file is not displayed</p>
            <div style="margin-top: 20px;">
                <div>
                    <code is="dom-code" lang="html5">
                        <template>
                            <iframe>
                                <form is="dom-form" bind:model="person">
                                    <mat-input-container placeholder="First Name">
                                        <input type="text" is="dom-input" name="firstName">
                                    </mat-input-container>
                                    <mat-input-container placeholder="Last Name">
                                        <input type="text" is="dom-input" name="lastName">
                                    </mat-input-container>

                                    <form is="dom-form" name="address">
                                        <mat-input-container placeholder="Street">
                                            <input type="text" is="dom-input" name="street">
                                        </mat-input-container>
                                        <mat-input-container placeholder="State">
                                            <input type="text" is="dom-input" name="state">
                                        </mat-input-container>
                                    </form>
                                </form>
                                <br/>
                                <div>First Name: {{person.firstName}}</div>
                                <div>Last Name: {{person.lastName}}</div>
                                <div>Street: {{person.address.street}}</div>
                                <div>State: {{person.address.state}}</div>
                            </iframe>
                        </template>
                    </code>
                </div>
            </div>
            <h3>Javascript</h3>
            <div>
                <div>
                    <code is="dom-code" lang="javascript">
                        <template>
                            <script>
                                import {customViews} from "../../../library/simplicity-core/simplicity.js";
                                import {loader} from "../../../library/simplicity-core/processors/loader-processor.js";
                                import DomInput from "../../../library/simplicity-core/directives/dom-input.js";
                                import DomForm from "../../../library/simplicity-core/directives/dom-form.js";
                                import MatInputContainer
                                    from "../../../library/simplicity-material/components/form/container/mat-input-container.js";

                                class NestedForms extends HTMLElement {

                                    person = {
                                        firstName: "Max",
                                        lastName: "Mustermann",
                                        address: {
                                            street: "Somestreet",
                                            state: "Somewere"
                                        }
                                    }

                                    static get components() {
                                        return [DomInput, DomForm, MatInputContainer]
                                    }

                                    static get template() {
                                        return loader("documentation/advanced/form/nested-forms.html")
                                    }

                                }

                                export default customViews.define({
                                    name: "form-nested-forms",
                                    class: NestedForms
                                })
                            </script>
                        </template>
                    </code>
                </div>
            </div>
        </div>
    </div>

    <div style="flex-wrap: wrap; display: flex">

         <div style="flex: 1; padding: 20px; min-width : 400px">

            <h2 style="margin-left: 0;" i18n>Form Validation</h2>
            <hr class="line">

            <p i18n>
                In this example you can see how Form validation is done. Form Validation is always async, because in most cases it is a Server request.
            </p>

            <h3>DOM-API</h3>
            <table style="width: 100%; font-size: small">
                <thead>
                <tr>
                    <td><strong i18n>Element</strong></td>
                    <td><strong i18n>Attribute</strong></td>
                    <td><strong i18n>Description</strong></td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>form</td>
                    <td>model</td>
                    <td i18n>Points to the Object model</td>
                </tr>
                <tr>
                    <td>*</td>
                    <td>variable</td>
                    <td i18n>Makes the form in the View available</td>
                </tr>
                </tbody>
            </table>

            <div style="margin: 20px;">
                <form is="dom-form" bind:model="person" bind:variable="form">
                    <mat-input-container bind:placeholder="i18n('First Name')">
                        <input type="text" is="dom-input" name="firstName">
                        <div slot="error" >
                            <span name="naturalId" i18n>Name already exists</span>
                        </div>
                    </mat-input-container>
                    <mat-input-container bind:placeholder="i18n('Last Name')">
                        <input type="text" is="dom-input" name="lastName">
                        <div slot="error" >
                            <span name="naturalId" i18n>Name already exists</span>
                        </div>
                    </mat-input-container>
                </form>
            </div>


        </div>

         <div style="flex: 1; padding: 20px; min-width : 400px">

            <h2>Source Code</h2>
            <hr class="line">
            <h3>HTML5</h3>
            <p i18n>The rest of the HTML file is not displayed</p>
            <div style="margin-top: 20px;">
                <div>
                    <code is="dom-code" lang="html5">
                        <template>
                            <iframe>
                                <form is="dom-form" bind:model="person" bind:variable="form">
                                    <mat-input-container placeholder="First Name">
                                        <input type="text" is="dom-input" name="firstName">
                                        <div slot="error" >
                                            <span name="naturalId">Name already exists</span>
                                        </div>
                                    </mat-input-container>
                                    <mat-input-container placeholder="Last Name">
                                        <input type="text" is="dom-input" name="lastName">
                                        <div slot="error" >
                                            <span name="naturalId">Name already exists</span>
                                        </div>
                                    </mat-input-container>
                                </form>
                            </iframe>
                        </template>
                    </code>
                </div>
            </div>
            <h3>Javascript</h3>
            <div>
                <div>
                    <code is="dom-code" lang="javascript">
                        <template>
                            <script>
                                import {customViews} from "../../../library/simplicity-core/simplicity.js";
                                import DomInput from "../../../library/simplicity-core/directives/dom-input.js";
                                import DomForm from "../../../library/simplicity-core/directives/dom-form.js";
                                import MatInputContainer from "../../../library/simplicity-material/components/form/container/mat-input-container.js";
                                import {loader} from "../../../library/simplicity-core/processors/loader-processor.js";

                                class ValidationForm extends HTMLElement {

                                    person = {
                                        firstName : "Max",
                                        lastName:  "Mustermann"
                                    }

                                    form;

                                    initialize() {
                                        this.form.addValidator({
                                            validate: (element) => {
                                                let executor = (resolve, reject) => {
                                                    if (this.person.firstName === "Max" && this.person.lastName === "Mustermann") {
                                                        reject("naturalId");
                                                    } else {
                                                        resolve("naturalId");
                                                    }
                                                };
                                                return new Promise(executor);
                                            }
                                        })
                                    }

                                    static get components() {
                                        return [DomInput, DomForm, MatInputContainer]
                                    }

                                    static get template() {
                                        return loader("documentation/advanced/form/validation-form.html")
                                    }

                                }

                                export default customViews.define({
                                    name : "form-validation-form",
                                    class : ValidationForm
                                })
                            </script>
                        </template>
                    </code>
                </div>
            </div>
        </div>
    </div>

</template>
</body>
</html>