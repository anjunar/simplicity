<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <i18n>
        <translation>
            <en>Reactivity - Handler</en>
            <de>Reaktivität - Handler</de>
        </translation>
        <translation>
            <en>
                The active membrane makes it possible for properties to be tracked by an event handler.
                The Membrane.track([object], [options]) function makes this possible, using the property, the element when
                Exiting the dom de-registers the handler and passes the callback. In addition, there is the method
                Membrane.fire([object]) on the active membrane that fires the handlers.
            </en>
            <de>
                Die aktive Membrane macht es möglich das Properties durch einen Event-handler getrackt werden können.
                Die Funktion Membrane.track([object], [options]) macht dies möglich, dabei wird die Property, das Element, dass beim
                Verlassen des Doms den Handler de-registriert und der Handler übergeben. Zusätzlich gibt es die Methode
                Membrane.fire([object]) an der aktiven Membrane das die Handler auslöst.
            </de>
        </translation>
    </i18n>
</head>
<body>
<template>
    <div style="flex-wrap: wrap; display: flex">
        <div style="flex: 1; padding: 20px; min-width : 400px">
            <h2 style="margin-left: 0;" i18n>Reactivity - Handler</h2>
            <hr class="line">

            <p i18n>
                The active membrane makes it possible for properties to be tracked by an event handler.
                The Membrane.track([object], [options]) function makes this possible, using the property, the element when
                Exiting the dom de-registers the handler and passes the callback. In addition, there is the method
                Membrane.fire([object]) on the active membrane that fires the handlers.
            </p>
        </div>
        <div style="flex: 1; padding: 20px; min-width : 400px">
            <h2>Source Code</h2>
            <hr class="line">
            <div>
                <div>
                    <code is="dom-code" lang="javascript">
                        <template>
                            <script>
                                import {customComponents} from "../../../../library/simplicity/simplicity.js";
                                import {Membrane} from "../../../../library/simplicity/services/tools";

                                class Test extends HTMLElement {

                                    test = {
                                        value : "Hello World",
                                        test2 : {
                                            value : "Foo Baa!"
                                        }
                                    }

                                    initialize() {
                                        Membrane.track(this.test, {
                                            property : "value",
                                            element : this,
                                            handler : (value) => {
                                                console.log(value)
                                            }
                                        })

                                        Membrane.track(this.test.test2, {
                                            property : "value",
                                            element : this,
                                            handler : (value) => {
                                                console.log(value)
                                            }
                                        })

                                        Membrane.fire(this.test) ; // Hello World
                                    }

                                }

                                export default customComponents.define("app-test", Test);
                            </script>
                        </template>
                    </code>
                </div>
            </div>
        </div>
    </div>
</template>
</body>
</html>